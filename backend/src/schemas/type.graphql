type Type {
  id: Int!
  name: String!
  description: String
  group: ItemGroup!
  published: Boolean!
  volume: Float
  capacity: Float
  mass: Float
  icon_id: Int
  created_at: String!
  updated_at: String!
  dogmaAttributes: [TypeDogmaAttribute!]!
  dogmaEffects: [TypeDogmaEffect!]!
  slotCounts: SlotCounts
}

type SlotCounts {
  high: Int!
  med: Int!
  low: Int!
  rig: Int!
  subsystem: Int!
}

type TypeDogmaAttribute {
  type_id: Int!
  attribute_id: Int!
  value: Float!
  attribute: DogmaAttribute!
}

type TypeDogmaEffect {
  type_id: Int!
  effect_id: Int!
  is_default: Boolean!
  effect: DogmaEffect!
}

type TypeEdge {
  node: Type!
  cursor: String!
}

type TypeConnection {
  edges: [TypeEdge!]!
  pageInfo: PageInfo!
}

input TypeFilter {
  page: Int
  limit: Int
  search: String
  group_id: Int
  published: Boolean
}

input StartTypeSyncInput {
  clientMutationId: String
}

type StartTypeSyncPayload {
  success: Boolean!
  message: String
  clientMutationId: String
}

input StartTypeDogmaSyncInput {
  clientMutationId: String
  typeIds: [Int!] # Optional: Specific type IDs to sync. If empty, sync all types
}

type StartTypeDogmaSyncPayload {
  success: Boolean!
  message: String
  queuedCount: Int
  clientMutationId: String
}

extend type Query {
  type(id: Int!): Type
  types(filter: TypeFilter): TypeConnection!
}

extend type Mutation {
  startTypeSync(input: StartTypeSyncInput!): StartTypeSyncPayload!
  startTypeDogmaSync(
    input: StartTypeDogmaSyncInput!
  ): StartTypeDogmaSyncPayload!
}
