extend type Query {
  """
  Get current status of all workers and queues
  """
  workerStatus: WorkerStatus!
}

type Subscription {
  """
  Subscribe to real-time worker status updates
  Emits updates every 5 seconds
  """
  workerStatusUpdates: WorkerStatus!
}

type WorkerStatus {
  """
  Timestamp of the status check
  """
  timestamp: String!

  """
  Status of individual queues (RabbitMQ-based workers)
  """
  queues: [QueueStatus!]!

  """
  Status of standalone workers (non-RabbitMQ)
  """
  standaloneWorkers: [StandaloneWorkerStatus!]!

  """
  Overall system health
  """
  healthy: Boolean!
}

type QueueStatus {
  """
  Name of the queue
  """
  name: String!

  """
  Number of messages waiting to be processed
  """
  messageCount: Int!

  """
  Number of messages currently being processed
  """
  consumerCount: Int!

  """
  Is the queue currently active
  """
  active: Boolean!
}

type StandaloneWorkerStatus {
  """
  Name of the worker
  """
  name: String!

  """
  Is the worker currently running
  """
  running: Boolean!

  """
  Process ID if running
  """
  pid: Int

  """
  Description of what this worker does
  """
  description: String!
}
