{
  "name": "backend",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "build": "tsc --noEmit",
    "start": "NODE_ENV=production tsx src/server.ts",
    "deploy": "yarn prisma:generate && yarn prisma:migrate:deploy",
    "postinstall": "prisma generate",
    "codegen": "graphql-codegen",
    "codegen:watch": "graphql-codegen --watch",
    "dev": "lsof -ti:4000 | xargs kill -9 || true && NODE_ENV=development nodemon --watch 'src/**/*.ts' --ignore 'src/**/*.spec.ts' --exec tsx src/server.ts",
    "fetch:killmail": "tsx src/workers/fetch-single-killmail.ts",
    "kill:port": "lsof -ti:4000 | xargs kill -9 || true",
    "prisma:generate": "prisma generate",
    "prisma:migrate": "prisma migrate dev",
    "prisma:migrate:deploy": "prisma migrate deploy",
    "prisma:push": "prisma db push",
    "prisma:studio": "prisma studio",
    "db:backup": "bash scripts/backup-db.sh",
    "db:restore": "bash scripts/restore-db.sh",
    "rabbitmq:reset": "bash scripts/reset-rabbitmq.sh",
    "queue:alliances": "tsx src/queues/queue-alliances.ts",
    "queue:alliance-corporations": "tsx src/queues/queue-alliance-corporations.ts",
    "queue:alliance-corp-characters": "tsx src/queues/queue-alliance-corporation-characters.ts",
    "queue:categories": "tsx src/queues/queue-categories.ts",
    "queue:character": "tsx src/queues/queue-character-killmails.ts",
    "queue:character:zkillboard": "tsx src/queues/queue-character-zkillboard.ts",
    "queue:constellations": "tsx src/queues/queue-constellations.ts",
    "queue:user-killmails": "tsx src/queues/queue-user-esi-killmails.ts",
    "queue:corporation-killmails": "tsx src/queues/queue-corporation-esi-killmails.ts",
    "queue:corporations": "tsx src/queues/queue-corporations.ts",
    "queue:item-groups": "tsx src/queues/queue-item-groups.ts",
    "queue:missing-groups": "tsx src/queues/queue-missing-groups.ts",
    "queue:regions": "tsx src/queues/queue-regions.ts",
    "queue:systems": "tsx src/queues/queue-systems.ts",
    "queue:types": "tsx src/queues/queue-types.ts",
    "queue:zkillboard": "tsx src/queues/queue-zkillboard-sync.ts",
    "remove:all": "rm -rf node_modules yarn.lock package-lock.json pnpm-lock.yaml",
    "scan:entities": "tsx src/workers/scan-killmail-entities.ts",
    "snapshot:alliances": "tsx src/workers/worker-alliance-snapshots.ts",
    "snapshot:corporations": "tsx src/workers/worker-corporation-snapshots.ts",
    "sync:character": "tsx src/workers/sync-character-killmails.ts",
    "update:alliance-counts": "tsx src/workers/update-alliance-counts.ts",
    "worker:alliance-corporations": "tsx src/workers/worker-alliance-corporations.ts",
    "worker:constellations": "tsx src/workers/worker-constellations.ts",
    "worker:info:alliances": "tsx src/workers/worker-info-alliances.ts",
    "worker:info:categories": "tsx src/workers/worker-info-categories.ts",
    "worker:info:characters": "tsx src/workers/worker-info-characters.ts",
    "worker:info:corporations": "tsx src/workers/worker-info-corporations.ts",
    "worker:info:item-groups": "tsx src/workers/worker-info-item-groups.ts",
    "worker:info:types": "tsx src/workers/worker-info-types.ts",
    "worker:regions": "tsx src/workers/worker-regions.ts",
    "worker:systems": "tsx src/workers/worker-systems.ts",
    "worker:user-killmails": "tsx src/workers/worker-esi-user-killmails.ts",
    "worker:corporation-killmails": "tsx src/workers/worker-esi-corporation-killmails.ts",
    "worker:zkillboard": "tsx src/workers/worker-zkillboard-sync.ts",
    "worker:redisq": "tsx src/workers/worker-redisq-stream.ts",
    "worker:races": "tsx src/workers/worker-races.ts",
    "worker:bloodlines": "tsx src/workers/worker-bloodlines.ts"
  },
  "dependencies": {
    "@envelop/response-cache": "^9.0.0",
    "@envelop/response-cache-redis": "^4.2.5",
    "@graphql-tools/load-files": "^7.0.1",
    "@graphql-tools/merge": "^9.1.1",
    "@graphql-yoga/redis-event-target": "^3.0.3",
    "@prisma/adapter-pg": "^7.1.0",
    "@prisma/client": "^7.1.0",
    "amqplib": "^0.10.9",
    "axios": "^1.12.2",
    "dataloader": "^2.2.3",
    "dotenv": "^17.2.3",
    "graphql": "16.11.0",
    "graphql-ws": "^6.0.6",
    "graphql-yoga": "5.16.0",
    "ioredis": "^5.8.2",
    "jose": "^6.1.0",
    "pg": "^8.16.3",
    "winston": "^3.19.0",
    "ws": "^8.18.3",
    "zod": "^4.2.1"
  },
  "devDependencies": {
    "@graphql-codegen/cli": "^6.0.1",
    "@graphql-codegen/schema-ast": "^5.0.0",
    "@graphql-codegen/typescript": "^5.0.2",
    "@graphql-codegen/typescript-resolvers": "^5.1.0",
    "@parcel/watcher": "2.5.1",
    "@types/amqplib": "^0.10.8",
    "@types/ioredis": "^5.0.0",
    "@types/node": "^24.10.1",
    "@types/pg": "^8.15.5",
    "@types/winston": "^2.4.4",
    "@types/ws": "^8.18.1",
    "graphql-codegen-schema-ast": "^0.18.2",
    "nodemon": "3.1.10",
    "prisma": "^7.1.0",
    "ts-node": "10.9.2",
    "tsx": "^4.21.0",
    "typescript": "^5.9.3"
  }
}