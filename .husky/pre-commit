#!/bin/sh
# Pre-commit hook to prevent .env files from being committed

# Check if any .env files are being staged
if git diff --cached --name-only | grep -E "\.env$|\.env\.local$|\.env\.production$|\.env\.development$"; then
  echo ""
  echo "‚ùå ERROR: .env file detected in commit!"
  echo ""
  echo "You are trying to commit a .env file which may contain sensitive data."
  echo ""
  echo "Files detected:"
  git diff --cached --name-only | grep -E "\.env$|\.env\.local$|\.env\.production$|\.env\.development$"
  echo ""
  echo "To fix this, unstage the .env file:"
  echo "  git reset HEAD <filename>"
  echo ""
  echo "If you want to commit an .env.example file instead:"
  echo "  git add .env.example"
  echo ""
  exit 1
fi

# Success
exit 0
