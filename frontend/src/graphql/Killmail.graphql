query Killmail($id: ID!) {
  killmail(id: $id) {
    id
    killmailHash
    killmailTime
    destroyedValue
    droppedValue
    totalValue
    attackerCount
    isSoloKill
    hasNpcAttackers
    solarSystem {
      id
      name
      security_status
      constellation {
        id
        name
        region {
          id
          name
        }
      }
    }
    victim {
      damageTaken
      character {
        id
        name
      }
      corporation {
        id
        name
        ticker
      }
      alliance {
        id
        name
        ticker
      }
      shipType {
        id
        name
        description
        jitaPrice {
          buy
          sell
          average
        }
        group {
          name
          category {
            name
          }
        }
      }
    }
    attackers {
      damageDone
      finalBlow
      securityStatus
      character {
        id
        name
      }
      corporation {
        id
        name
      }
      alliance {
        id
        name
      }
      shipType {
        id
        name
        group {
          name
        }
      }
      weaponType {
        id
        name
      }
    }
    # Organized fitting data - cleaner structure
    fitting {
      highSlots {
        totalSlots
        slots {
          slotIndex
          module {
            flag
            itemType {
              id
              name
              jitaPrice {
                buy
                sell
                average
              }
              group {
                name
              }
            }
            quantityDropped
            quantityDestroyed
            charge {
              itemType {
                id
                name
                jitaPrice {
                  buy
                  sell
                  average
                }
              }
              quantityDropped
              quantityDestroyed
            }
          }
        }
      }
      midSlots {
        totalSlots
        slots {
          slotIndex
          module {
            flag
            itemType {
              id
              name
              jitaPrice {
                buy
                sell
                average
              }
              group {
                name
              }
            }
            quantityDropped
            quantityDestroyed
            charge {
              itemType {
                id
                name
                jitaPrice {
                  buy
                  sell
                  average
                }
              }
              quantityDropped
              quantityDestroyed
            }
          }
        }
      }
      lowSlots {
        totalSlots
        slots {
          slotIndex
          module {
            flag
            itemType {
              id
              name
              jitaPrice {
                buy
                sell
                average
              }
              group {
                name
              }
            }
            quantityDropped
            quantityDestroyed
            charge {
              itemType {
                id
                name
                jitaPrice {
                  buy
                  sell
                  average
                }
              }
              quantityDropped
              quantityDestroyed
            }
          }
        }
      }
      rigs {
        totalSlots
        slots {
          slotIndex
          module {
            flag
            itemType {
              id
              name
              jitaPrice {
                buy
                sell
                average
              }
              group {
                name
              }
            }
            quantityDropped
            quantityDestroyed
          }
        }
      }
      subsystems {
        totalSlots
        slots {
          slotIndex
          module {
            flag
            itemType {
              id
              name
              jitaPrice {
                buy
                sell
                average
              }
              group {
                name
              }
            }
            quantityDropped
            quantityDestroyed
          }
        }
      }
      serviceSlots {
        totalSlots
        slots {
          slotIndex
          module {
            flag
            itemType {
              id
              name
              jitaPrice {
                buy
                sell
                average
              }
              group {
                name
              }
            }
            quantityDropped
            quantityDestroyed
          }
        }
      }
      implants {
        totalSlots
        slots {
          slotIndex
          module {
            itemType {
              id
              name
              jitaPrice {
                buy
                sell
                average
              }
            }
            quantityDropped
            quantityDestroyed
          }
        }
      }
      cargo {
        flag
        singleton
        itemType {
          id
          name
          jitaPrice {
            buy
            sell
            average
          }
        }
        quantityDropped
        quantityDestroyed
      }
      droneBay {
        flag
        singleton
        itemType {
          id
          name
          jitaPrice {
            buy
            sell
            average
          }
        }
        quantityDropped
        quantityDestroyed
      }
      fighterBay {
        flag
        singleton
        itemType {
          id
          name
          jitaPrice {
            buy
            sell
            average
          }
        }
        quantityDropped
        quantityDestroyed
      }
      structureFuel {
        flag
        singleton
        itemType {
          id
          name
          jitaPrice {
            buy
            sell
            average
          }
        }
        quantityDropped
        quantityDestroyed
      }
      coreRoom {
        flag
        singleton
        itemType {
          id
          name
          jitaPrice {
            buy
            sell
            average
          }
        }
        quantityDropped
        quantityDestroyed
      }
    }
  }
}
