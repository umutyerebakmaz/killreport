query Killmails($filter: KillmailFilter) {
  killmails(filter: $filter) {
    edges {
      node {
        id
        killmailId
        killmailTime
        solarSystemId
        solarSystem {
          id
          name
          security_status
          constellation {
            name
            region {
              name
            }
          }
        }
        victim {
          characterId
          character {
            id
            name
          }
          corporationId
          corporation {
            id
            name
          }
          allianceId
          alliance {
            id
            name
          }
          shipTypeId
          shipType {
            id
            name
            group {
              name
            }
          }
          damageTaken
        }
        attackers {
          characterId
          character {
            id
            name
          }
          corporationId
          corporation {
            id
            name
          }
          shipTypeId
          shipType {
            id
            name
          }
          finalBlow
          damageDone
        }
      }
      cursor
    }
    pageInfo {
      hasNextPage
      hasPreviousPage
      currentPage
      totalPages
      totalCount
    }
  }
}

query Killmail($id: ID!) {
  killmail(id: $id) {
    id
    killmailId
    killmailHash
    killmailTime
    solarSystemId
    solarSystem {
      id
      name
      security_status
      security_class
      constellation {
        name
        region {
          name
        }
      }
    }
    victim {
      characterId
      character {
        id
        name
      }
      corporationId
      corporation {
        id
        name
        ticker
      }
      allianceId
      alliance {
        id
        name
        ticker
      }
      shipTypeId
      shipType {
        id
        name
        description
        group {
          name
          category {
            name
          }
        }
      }
      damageTaken
      position {
        x
        y
        z
      }
    }
    attackers {
      characterId
      character {
        id
        name
      }
      corporationId
      corporation {
        id
        name
        ticker
      }
      allianceId
      alliance {
        id
        name
        ticker
      }
      shipTypeId
      shipType {
        id
        name
        group {
          name
        }
      }
      weaponTypeId
      weaponType {
        id
        name
      }
      damageDone
      finalBlow
      securityStatus
    }
    items {
      itemTypeId
      itemType {
        id
        name
      }
      flag
      quantityDropped
      quantityDestroyed
      singleton
    }
  }
}

query CharacterKillmails($characterId: Int!, $first: Int, $after: String) {
  characterKillmails(characterId: $characterId, first: $first, after: $after) {
    edges {
      node {
        id
        killmailId
        killmailTime
        solarSystemId
        solarSystem {
          name
        }
        victim {
          characterId
          character {
            name
          }
          shipType {
            name
          }
          damageTaken
        }
        attackers {
          character {
            name
          }
          finalBlow
        }
      }
      cursor
    }
    pageInfo {
      hasNextPage
      hasPreviousPage
      currentPage
      totalPages
      totalCount
    }
  }
}

query CorporationKillmails($corporationId: Int!, $first: Int, $after: String) {
  corporationKillmails(
    corporationId: $corporationId
    first: $first
    after: $after
  ) {
    edges {
      node {
        id
        killmailId
        killmailTime
        solarSystem {
          name
        }
        victim {
          character {
            name
          }
          shipType {
            name
          }
        }
      }
    }
    pageInfo {
      hasNextPage
      totalCount
    }
  }
}

query AllianceKillmails($allianceId: Int!, $first: Int, $after: String) {
  allianceKillmails(allianceId: $allianceId, first: $first, after: $after) {
    edges {
      node {
        id
        killmailId
        killmailTime
        solarSystem {
          name
        }
        victim {
          character {
            name
          }
          shipType {
            name
          }
        }
      }
    }
    pageInfo {
      hasNextPage
      totalCount
    }
  }
}

subscription NewKillmail {
  newKillmail {
    id
    killmailId
    killmailTime
    solarSystemId
    solarSystem {
      id
      name
      security_status
      constellation {
        name
        region {
          name
        }
      }
    }
    victim {
      characterId
      character {
        id
        name
      }
      corporationId
      corporation {
        id
        name
      }
      allianceId
      alliance {
        id
        name
      }
      shipTypeId
      shipType {
        id
        name
        group {
          name
        }
      }
      damageTaken
    }
    attackers {
      characterId
      character {
        id
        name
      }
      corporationId
      corporation {
        id
        name
      }
      shipTypeId
      shipType {
        id
        name
      }
      finalBlow
      damageDone
    }
  }
}
